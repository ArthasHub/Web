var data = JSON.parse(new String('[{"name":"幸楽輸送","id":"001O000000IimCRIAZ","str1":"11000020","str2":"直販"},{"name":"札樽自動車運輸","id":"001O000000IimCrIAJ","str1":"11001633","str2":"直販"},{"name":"日通商事札幌","id":"001O000000IimDoIAJ","str1":"11004556","str2":"間販その他"},{"name":"札通商事","id":"001O000000IimFqIAJ","str1":"11012967","str2":"間販その他"},{"name":"マ）千葉マツダ  野田","id":"001O000000Ij4JEIAZ","str1":"37531162","str2":"ＣＤ"},{"name":"トーサイアポ  ＭＥＧＡ野田","id":"001O000000Ij3vbIAB","str1":"37221491","str2":"ＲＳ"},{"name":"千葉マツダ  野田（廃タイヤ","id":"001O000000Ij4jOIAR","str1":"37560206","str2":"ＣＤ"},{"name":"ＴＡＬ／東電  ３３５２","id":"001O000000Ij3NoIAJ","str1":"37216442","str2":"直販"},{"name":"㈱ウサミオート","id":"001O000000Ij3PgIAJ","str1":"37217616","str2":"ＲＳ"},{"name":"石井産業㈱  瀬戸中央ＳＳ","id":"001O000000Ij3PcIAJ","str1":"37217578","str2":"ＳＳ"},{"name":"㈱キタセキ  野田ＳＳ","id":"001O000000Ij3QBIAZ","str1":"37217927","str2":"ＳＳ"},{"name":"イエロー野田梅郷（ロッキー","id":"001O000000Ij3QDIAZ","str1":"37217946","str2":"ＡＳ"},{"name":"ＢＳ新港タイヤセンター","id":"001O000000Ij6HZIAZ","str1":"37859822","str2":"ＲＳ"},{"name":"ナルネット（水口商会）＠","id":"001O000000Ij6HdIAJ","str1":"37859861","str2":"直販"},{"name":"ＯＡＬ（水口商会）      ＠","id":"001O000000Ij6HlIAJ","str1":"37859947","str2":"直販"},{"name":"ＴＡＬ（水口商会）      ＠","id":"001O000000Ij6HnIAJ","str1":"37859966","str2":"直販"},{"name":"カーライフ  サカ","id":"001O000000Ij3awIAB","str1":"37218627","str2":"ＲＳ"},{"name":"エネクス石油  野田山崎ＣＳ","id":"001O000000Ij3c0IAB","str1":"37219327","str2":"ＳＳ"},{"name":"エネクスフリートＲ１６野田","id":"001O000000Ij3c2IAB","str1":"37219346","str2":"ＳＳ"},{"name":"ＪＡ三井リースオート㈱","id":"001O000000Ij3c4IAB","str1":"37219370","str2":"直販"},{"name":"ダイハツ工業  野田","id":"001O000000Ij9GJIAZ","str1":"37030112","str2":"ＣＤ"},{"name":"トヨタ（パンクノン）野田","id":"001O000000Ij9GaIAJ","str1":"37082107","str2":"ＣＤ"},{"name":"三菱オートリース（ＭＡＬ）","id":"001O000000Ij9mpIAB","str1":"37161449","str2":"直販"},{"name":"ＣＴＳコスモ石油  柏の葉","id":"001O000000IjA6bIAF","str1":"37197009","str2":"ＳＳ"},{"name":"関彰）利根物流  トネ","id":"001O000000IjAGQIA3","str1":"37206517","str2":"ＳＳ"},{"name":"寺商","id":"001O000000IjAGwIAN","str1":"37206976","str2":"ＲＳ"},{"name":"ネッツトヨタ千葉  野田店","id":"001O000000Ij9nsIAB","str1":"37163331","str2":"ＣＤ"},{"name":"加藤石油㈱  川間駅前  埼玉","id":"001O000000Ij9xZIAR","str1":"37184419","str2":"ＳＳ"},{"name":"ア）東日本宇佐美  柏１６号","id":"001O000000Ij9xpIAB","str1":"37185157","str2":"ＳＳ"},{"name":"ホンダカーズ千葉  野田北店","id":"001O000000IjA7WIAV","str1":"37197999","str2":"ＣＤ"},{"name":"㈱千葉測器  野田","id":"001O000000IjAHPIA3","str1":"37207441","str2":"直販"},{"name":"エネオスＤＤ野田堤台","id":"001O000000IjAHgIAN","str1":"37207638","str2":"ＳＳ"},{"name":"（有）吉岡自動車商会","id":"001O000000Ij9osIAB","str1":"37165736","str2":"ＲＳ"},{"name":"高瀬物産  柏","id":"001O000000IjA8CIAV","str1":"37198828","str2":"直販"},{"name":"（有）ヤマサン","id":"001O000000Ij9p8IAB","str1":"37166288","str2":"ＲＳ"},{"name":"（株）カント－緑地機械","id":"001O000000Ij9pAIAR","str1":"37166307","str2":"直販"},{"name":"坂自動車  現金限度１０万","id":"001O000000Ij9z5IAB","str1":"37187714","str2":"ＲＳ"},{"name":"有限会社  増山商店","id":"001O000000Ij9zFIAR","str1":"37187949","str2":"ＳＳ"},{"name":"有限会社  アタック","id":"001O000000Ij9zHIAR","str1":"37188046","str2":"ＲＳ"},{"name":"オリックスコーラ野田三菱","id":"001O000000IjA8lIAF","str1":"37199399","str2":"直販"},{"name":"ビック?フット  野田店","id":"001O000000IjAIeIAN","str1":"37208338","str2":"タ専"},{"name":"部品）スズキ自販千葉  野田","id":"001O000000IjAIvIAN","str1":"37208510","str2":"ＣＤ"},{"name":"エムティートレーディング","id":"001O000000IjA9EIAV","str1":"37199881","str2":"ＲＳ"},{"name":"野田三菱自動車  野田","id":"001O000000IjAJHIA3","str1":"37208801","str2":"ＣＤ"},{"name":"オ－トバックス  野田梅郷店","id":"001O000000Ij9qYIAR","str1":"37169052","str2":"ＡＳ"},{"name":"オリックスオート    ３５２","id":"001O000000IjAALIA3","str1":"37200997","str2":"直販"},{"name":"東電リース車番事業所  指定","id":"001O000000Ij9NbIAJ","str1":"37114681","str2":"直販"},{"name":"有）栄一タイヤ商会","id":"001O000000Ij9NiIAJ","str1":"37114877","str2":"タ専"},{"name":"有）水口商会            ①","id":"001O000000Ij9NjIAJ","str1":"37114915","str2":"タ専"},{"name":"宇田川（株  柏インタ－","id":"001O000000Ij9NtIAJ","str1":"37115338","str2":"ＳＳ"},{"name":"株）竹之内商店","id":"001O000000Ij9NyIAJ","str1":"37115510","str2":"ＳＳ"},{"name":"Ｊ）太陽鉱油  野田","id":"001O000000Ij9hOIAR","str1":"37139672","str2":"ＳＳ"},{"name":"日産プリンス千葉  野田","id":"001O000000Ij9r6IAB","str1":"37170636","str2":"ＣＤ"},{"name":"ＳＭＡ  ＳＳ第一部  ３５２","id":"001O000000IjAASIA3","str1":"37201061","str2":"直販"},{"name":"日本カーソリューションズ","id":"001O000000IjAAaIAN","str1":"37201171","str2":"直販"},{"name":"㈱  湯浅  ルート１６野田","id":"001O000000IjAAeIAN","str1":"37201219","str2":"ＳＳ"},{"name":"西出自動車          ３５２","id":"001O000000IjAAyIAN","str1":"37201462","str2":"直販"},{"name":"トヨタカローラ千葉  中野台","id":"001O000000IjAKMIA3","str1":"37209573","str2":"ＣＤ"},{"name":"ダイハツ千葉  野田","id":"001O000000IjAKNIA3","str1":"37209588","str2":"ＣＤ"},{"name":"トヨタカロ－ラ千葉  野田","id":"001O000000Ij9OBIAZ","str1":"37116152","str2":"ＣＤ"},{"name":"千葉日産自動車  野田","id":"001O000000Ij9rmIAB","str1":"37172423","str2":"ＣＤ"},{"name":"ＳＭＡサポート      ３５８","id":"001O000000IjA1IIAV","str1":"37191072","str2":"直販"},{"name":"千葉トヨタ自動車  野田","id":"001O000000IjA1QIAV","str1":"37191269","str2":"ＣＤ"},{"name":"東武商事株式会社","id":"001O000000Ij9iKIAR","str1":"37142680","str2":"直販"},{"name":"Ｊ）田中燃料  野田中央","id":"001O000000IjABzIAN","str1":"37202531","str2":"ＳＳ"},{"name":"株式会社  アクオス","id":"001O000000IjALiIAN","str1":"37210592","str2":"ＲＳ"},{"name":"ア）ライラ鴨狩  野田中央","id":"001O000000IjA2PIAV","str1":"37192691","str2":"ＳＳ"},{"name":"セコム  野田営業所","id":"001O000000IjA2vIAF","str1":"37193242","str2":"直販"},{"name":"野田日石  フレックス２１①","id":"001O000000Ij9tKIAR","str1":"37176137","str2":"ＳＳ"},{"name":"ＳＭＡサポート      ３５２","id":"001O000000IjAMsIAN","str1":"37211398","str2":"直販"},{"name":"部販）野田三菱  野田","id":"001O000000Ij97KIAR","str1":"37010620","str2":"ＣＤ"},{"name":"カシワ  インタ－オ－ト","id":"001O000000Ij9kQIAR","str1":"37149536","str2":"ＲＳ"},{"name":"オリックスオート","id":"001O000000Ij9kVIAR","str1":"37149832","str2":"直販"},{"name":"湯浅        野田梅郷","id":"001O000000Ij9u3IAB","str1":"37177755","str2":"ＳＳ"},{"name":"ホンダプリモ利根  野田愛宕","id":"001O000000Ij97zIAB","str1":"37020871","str2":"ＣＤ"},{"name":"ホンダプリモ利根  １６号花","id":"001O000000Ij980IAB","str1":"37020885","str2":"ＣＤ"},{"name":"東タイヤサ－ビス","id":"001O000000Ij9uYIAR","str1":"37178857","str2":"タ専"},{"name":"千葉トヨペット  野田","id":"001O000000Ij9uwIAB","str1":"37179581","str2":"ＣＤ"},{"name":"ネッツトヨタ東都  野田店","id":"001O000000Ij9v4IAB","str1":"37179820","str2":"ＣＤ"},{"name":"柏市自動車協同組合","id":"001O000000Ij9v5IAB","str1":"37179868","str2":"ＲＳ"},{"name":"ＧＥ／下田自動車","id":"001O000000IjA4mIAF","str1":"37195169","str2":"直販"},{"name":"ホンダカーズ千葉  野田北","id":"001O000000Ij98uIAB","str1":"37021791","str2":"ＣＤ"},{"name":"ア）東日本宇佐美  野田北","id":"001O000000Ij9lYIAR","str1":"37158011","str2":"ＳＳ"},{"name":"トヨタＬ＆Ｆ千葉  野田","id":"001O000000Ij9wEIAR","str1":"37182105","str2":"ＣＤ"}]'));

function drawTable(dataJSON, options) {
	var str1Reg = /./,
		str2Reg = /./,
		nameReg = /./;
	if (options) {
		if (options.str1) {
			str1Reg = new RegExp('^' + options.str1, 'g');
		};
		if (options.name) {
			nameReg = new RegExp(options.name + '+', 'g');
		};
		if (options.str2) {
			str2Reg = new RegExp('^' + options.str2 + '$', 'g');
		};
	};
	var data = [];
	for (var i = 0; i < dataJSON.length; i++) {
		var temData = dataJSON[i];
		if (str1Reg.test(temData.str1) && nameReg.test(temData.name) && str2Reg.test(temData.str2)) {
			var tem = JSON.parse(new String('{"str2":"' + temData.str2 + '","str1":"' + temData.str1 + '","name":"<a href=\'javascript:PostPram(' + temData.id + ',' + temData.name + ');\' >' + temData.name + ' <\/a>"}'));
			data.push(tem);
		};
	};
	YUI().use('datatable', 'datatable-scroll', function(Y) {

		var column = [{
			key: "str2",
			label: "チャネル"
		}, {
			key: "str1",
			label: "得意先コード"
		}, {
			key: "name",
			label: "取引先名",
			allowHTML: true
		}];


		var windowHeight = window.innerHeight - 150;

		var tab = new Y.DataTable({
			scrollable: "y",
			columns: column,
			data: data,
			sortable: true,
			height: windowHeight,
			width: "100%"
		}).render("#dataTable");
	});



}

function search() {
	YUI().use('node', function(Y) {
		var search = Y.one("#search"),
			alter = document.getElementsByName("radiobutton");
		var str1 = "",
			str2 = "",
			name = "";
		for (var i = 0; i < alter.length; i++) {
			if (alter[i].checked == true) {
				var searchText = search.get("value");
				if (alter[i].value == 1) {
					name = searchText;
				} else {
					str2 = searchText;
				};
			}
		};
		
		var options = {
			str1: str1,
			str2: str2,
			name: name
		}
		drawTable(data, options);
	});

}



(function() {

	drawTable(data);
})();